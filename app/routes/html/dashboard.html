<!DOCTYPE html>
<html data-ng-app="App" data-ng-csp="" lang="en" >
<head>
    <title>DarkShield.IO - Dashboard</title>
    <link href="../css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="../css/application.css" rel="stylesheet">
    <link href="../css/customizations.css" rel="stylesheet">
    <link rel="shortcut icon" href="../img/favicon.png">
    <script type="text/javascript" src="../js/vendor/angular.min.js"></script>
    <script type="text/javascript" src="../js/ui-bootstrap-tpls-0.6.0.js"></script>
    <script type="text/javascript" src="../js/dashboard.js"></script>
    <!-- Controllers -->
    <script type="text/javascript" src="../js/controllers/sidebarCtrl.js"></script>
    <script type="text/javascript" src="../js/controllers/drilldownCtrl.js"></script>
    <!-- Services -->
    <script type="text/javascript" src="../js/services/domainService.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta charset="utf-8">
</head>
<body class="background-dark">
<div class="logo">
    <h4><a href="index.html">Dark<strong>Shield</strong>.IO</a></h4>
</div>
<nav id="sidebar" class="sidebar nav-collapse collapse" data-ng-controller="SidebarCtrl">
    <ul id="side-nav" class="side-nav">
        <li class="active">
            <a href="index.html"><i class="icon-home"></i> <span class="name">Dashboard</span></a>
        </li>
        <li class="panel">
            <a class="accordion-toggle collapsed" data-toggle="collapse"
               data-parent="#side-nav" href="#forms-collapse"><i class="icon-edit"></i> <span class="name">Attackers</span></a>
            <ul id="forms-collapse" class="panel-collapse collapse">
                <li><a href="#">Report Cards</a></li>
                <li><a href="#">Response</a></li>
                <li><a href="#">History</a></li>
            </ul>
        </li>
        <li class="panel">
            <a class="accordion-toggle collapsed" data-toggle="collapse"
               data-parent="#side-nav" href="#ui-collapse"><i class="icon-magic"></i> <span class="name">Sites {{domains.length}}</span></a>
            <ul id="ui-collapse" class="panel-collapse collapse" >
                <li><a href="#">Attacks</a></li>
                <li><a href="traffic.html">Traffic</a></li>
                <li><a href="#">Response Report</a></li>
            </ul>
        </li>
        <li class="panel">
            <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#side-nav" href="#stats-collapse"><i class="icon-bar-chart"></i> <span class="name">Statistics</span></a>
            <ul id="stats-collapse" class="panel-collapse collapse">
                <li><a href="stat_statistics.html">Stats</a></li>
                <li><a href="stat_charts.html">Visualization</a></li>
                <li><a href="stat_realtime.html">Real-Time</a></li>
            </ul>
        </li>
        <li class="panel">
            <a class="accordion-toggle collapsed" data-toggle="collapse"
               data-parent="#side-nav" href="#components-collapse"><i class="icon-bookmark-empty"></i> <span class="name">Config</span></a>
            <ul id="components-collapse" class="panel-collapse collapse">
                <li><a href="#">Site Preferences</a></li>
                <li><a href="#">Organization Policies</a></li>
                <li><a href="#">DNS Settings</a></li>
            </ul>
        </li>
        <li class="visible-xs">
            <a href="login.html"><i class="icon-signout"></i> <span class="name">Sign Out</span></a>
        </li>
    </ul>
    <div id="sidebar-settings" class="settings">
        <button type="button"
                data-value="icons"
                class="btn-icons btn btn-transparent btn-sm">Icons</button>
        <button type="button"
                data-value="auto"
                class="btn-auto btn btn-transparent btn-sm">Auto</button>
    </div>
</nav>
<div class="wrap">
<header class="page-header">
    <div class="navbar">
        <ul class="nav navbar-nav navbar-right pull-right">
            <li class="visible-phone-landscape">
                <a href="#" id="search-toggle">
                    <i class="icon-search"></i>
                </a>
            </li>
            <li class="divider"></li>
            <li class="hidden-xs">
                <a href="#" id="settings"
                   title="Settings"
                   data-toggle="popover"
                   data-placement="bottom">
                    <i class="icon-cog"></i>
                </a>
            </li>
            <li class="hidden-xs dropdown">
                <a href="#" title="Account" id="account"
                   class="dropdown-toggle"
                   data-toggle="dropdown">
                    <i class="icon-user"></i>
                </a>
                <ul id="account-menu" class="dropdown-menu account" role="menu">
                    <li role="presentation" class="account-picture">
                        <img src="img/2.jpg" alt="">
                        Zach Jones
                    </li>
                    <li role="presentation">
                        <a href="form_account.html" class="link">
                            <i class="icon-user"></i>
                            User Info
                        </a>
                    </li>
                    <li role="presentation">
                        <a href="#" class="link">
                            <i class="icon-calendar"></i>
                            Account Settings
                        </a>
                    </li>
                    <li role="presentation">
                        <a href="#" class="link">
                            <i class="icon-inbox"></i>
                            Organization Settings
                        </a>
                    </li>
                </ul>
            </li>
            <li class="visible-xs">
                <a href="#"
                   class="btn-navbar"
                   data-toggle="collapse"
                   data-target=".sidebar"
                   title="">
                    <i class="icon-reorder"></i>
                </a>
            </li>
            <li class="hidden-xs"><a href="/logout"><i class="icon-signout"></i></a></li>
        </ul>
        <form id="search-form" class="navbar-form pull-right" role="search">
            <input type="search" class="search-query" placeholder="Search...">
        </form>
        <div class="notifications pull-right">
            <div class="alert pull-right">
                <a href="#" class="close" data-dismiss="alert">&times;</a>
                <i class="icon-info-sign"></i> Welcome to DarkShield!
            </div>
        </div>
    </div>
</header>
<div class="content container">
<div class="row">
    <div class="col-md-12">
        <h2 class="page-title">Traffic Report<small>Reqeust Data</small></h2>
    </div>
</div>
<div class="row">
<div class="col-md-10 col-md-offset-1">
<section class="widget" data-ng-controller="drilldownCtrl" data-ng-init="getRequestData()">
<header>
    <h4>
        <i class="icon-list-ol"></i>
        {{drillsite}}
    </h4>
    <!--TODO: Figure out how to port over the search and pagination functionality from the old drilldown-->
</header>
<div class="body">
<pagination boundary-links="true" total-items="totalItems" page="currentPage" max-size="maxSize" class="pagination-small" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
<input name="Search" type="text" data-ng-model="query" data-ng-change="search()" class="search-query pull-right" placeholder="Search">
<table class="table table-striped table-images">
    <thead>
    <tr>
        <th class="hidden-xs-portrait">Date</th>
        <th>Method</th>
        <th>URL</th>
        <th>From</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr data-ng-repeat="item in pagedItems | filter:filterby | orderBy:sortingOrder:reverse">
        <td class="hidden-xs-portrait">{{item.requestedtimestamp}}</td>
        <td>{{item.method}}</td>
        <td>{{item.headers.host}}{{item.url}}</td>
        <td>{{item.remoteIP}}:{{item.remotePort}}</td>
        <td>
            <button class="btn btn-sm btn-primary">
                Show
            </button>
            <button class="btn btn-sm btn-warning" data-toggle="button">
                Mark
            </button>
        </td>
    </tr>
    </tbody>

</table>
<div class="clearfix">
    <div class="pull-right">
        <button class="btn btn-sm">
            Send to ...
        </button>
        <div class="btn-group">
            <button class="btn dropdown-toggle" data-toggle="dropdown">
                &nbsp; Clear &nbsp;
                <i class="icon-caret-down"></i>
            </button>
            <ul class="dropdown-menu">
                <li><a href="#">Clear</a></li>
                <li><a href="#">Move ...</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li><a href="#">Separated link</a></li>
            </ul>
        </div>
    </div>

    <!--<ul class="pagination no-margin">
        <li class="disabled"><a href="#">Prev</a></li>
        <li class="active"><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">Next</a></li>
    </ul>-->

</div>
</div>
</section>
</div>
</div>

</div>
</div>

<!-- jquery and friends -->
<script src="../js/vendor/jquery/jquery.1.9.0.min.js"> </script>
<script src="../js/vendor/jquery/jquery-migrate-1.1.0.min.js"> </script>

<!-- jquery plugins -->
<script src="../js/vendor/icheck.js/jquery.icheck.js"></script>
<script src="../js/vendor/sparkline/jquery.sparkline.js"></script>
<script src="../js/vendor/jquery-ui-1.10.1.custom.js"></script>
<script src="../js/vendor/jquery.slimscroll.js"></script>

<!-- d3, nvd3-->
<script src="../js/vendor/nvd3/lib/d3.v2.js"></script>
<script src="../js/vendor/nvd3/nv.d3.custom.js"></script>

<!-- nvd3 models -->
<script src="../js/vendor/nvd3/src/models/scatter.js"></script>
<script src="../js/vendor/nvd3/src/models/axis.js"></script>
<script src="../js/vendor/nvd3/src/models/legend.js"></script>
<script src="../js/vendor/nvd3/src/models/multiBar.js"></script>
<script src="../js/vendor/nvd3/src/models/multiBarChart.js"></script>
<script src="../js/vendor/nvd3/src/models/line.js"></script>
<script src="../js/vendor/nvd3/src/models/lineChart.js"></script>
<script src="../js/vendor/nvd3/stream_layers.js"></script>

<!--backbone and friends -->
<script src="../js/vendor/backbone/underscore-min.js"></script>
<script src="../js/vendor/backbone/backbone-min.js"></script>
<script src="../js/vendor/backbone/backbone.localStorage-min.js"></script>

<!-- bootstrap default plugins -->
<script src="../js/vendor/bootstrap/transition.js"></script>
<script src="../js/vendor/bootstrap/collapse.js"></script>
<script src="../js/vendor/bootstrap/alert.js"></script>
<script src="../js/vendor/bootstrap/tooltip.js"></script>
<script src="../js/vendor/bootstrap/popover.js"></script>
<script src="../js/vendor/bootstrap/button.js"></script>
<script src="../js/vendor/bootstrap/tab.js"> </script>
<script src="../js/vendor/bootstrap/dropdown.js"></script>

<!-- basic application js
<script src="js/app.js"></script>
<script src="js/settings.js"></script>-->

<!-- page specific
<script src="js/index.js"></script>
<script src="js/chat.js"></script>-->

<script type="text/template" id="message-template">
    <div class="sender pull-left">
        <div class="icon">
            <img src="img/2.jpg" class="img-circle" alt="">
        </div>
        <div class="time">
            just now
        </div>
    </div>
    <div class="chat-message-body">
        <span class="arrow"></span>
        <div class="sender">Tikhon Laninga</div>
        <div class="text">
            <%- text %>
        </div>
    </div>
</script>

<script type="text/template" id="settings-template">
    <div class="setting clearfix">
        <div>Background</div>
        <div id="background-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
            <% dark = background == 'dark'; light = background == 'light';%>
            <button type="button" data-value="dark" class="btn btn-sm btn-transparent <%= dark? 'active' : '' %>">Dark</button>
            <button type="button" data-value="light" class="btn btn-sm btn-transparent <%= light? 'active' : '' %>">Light</button>
        </div>
    </div>
    <div class="setting clearfix">
        <div>Sidebar on the</div>
        <div id="sidebar-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
            <% onRight = sidebar == 'right'%>
            <button type="button" data-value="left" class="btn btn-sm btn-transparent <%= onRight? '' : 'active' %>">Left</button>
            <button type="button" data-value="right" class="btn btn-sm btn-transparent <%= onRight? 'active' : '' %>">Right</button>
        </div>
    </div>
    <div class="setting clearfix">
        <div>Sidebar</div>
        <div id="display-sidebar-toggle" class="pull-left btn-group" data-toggle="buttons-radio">
            <% display = displaySidebar%>
            <button type="button" data-value="true" class="btn btn-sm btn-transparent <%= display? 'active' : '' %>">Show</button>
            <button type="button" data-value="false" class="btn btn-sm btn-transparent <%= display? '' : 'active' %>">Hide</button>
        </div>
    </div>
</script>

<script type="text/template" id="sidebar-settings-template">
    <% auto = sidebarState == 'auto'%>
    <% if (auto) {%>
    <button type="button"
            data-value="icons"
            class="btn-icons btn btn-transparent btn-sm">Icons</button>
    <button type="button"
            data-value="auto"
            class="btn-auto btn btn-transparent btn-sm">Auto</button>
    <%} else {%>
    <button type="button"
            data-value="auto"
            class="btn btn-transparent btn-sm">Auto</button>
    <% } %>
</script>

</body>
</html>